\RequirePackage{amsmath,amssymb}

\RequirePackage[brazil]{babel}
\RequirePackage{float}
\RequirePackage{hyperref}
\RequirePackage{makecell}
% varias melhorias de typeset
%\RequirePackage{microtype}

\RequirePackage[textwidth=186mm,
paperwidth=196mm,
paperheight=280mm,
top=10mm,
left=5mm,
right=5mm,
bottom=8mm,
marginpar=10mm]{geometry}
%\geometry{
% textwidth=157mm,
% paperwidth=196mm,
% paperheight=280mm,
% top=1in,
% left=12mm,
% right=20mm,
% footskip=.7in,
% marginpar=10mm
% }

% Place crop marks
\RequirePackage[center,height=297mm,width=210mm,cam]{crop}

% Para enumerates customizados
\RequirePackage{enumerate}
\RequirePackage[shortlabels]{enumitem}
\setlist[itemize,1]{label={$\star$},leftmargin=*,topsep=.5em, wide,parsep=0pt}
\setlist[enumerate]{leftmargin=*,topsep=.5em, wide=0pt, parsep=0pt}


% Para usar tabelas balanceadas
\RequirePackage{tabulary}
\RequirePackage{longtable}% para quebrar tabela entre páginas

% Choose font
\RequirePackage{ifxetex}
\ifxetex
   \RequirePackage{fontspec}
   \setmainfont{Lato-Light.ttf}[BoldFont=Lato-Medium.ttf, ItalicFont=Lato-LightItalic.ttf, BoldItalicFont=Lato-MediumItalic.ttf]
   \newfontface\titlefont{STIXIntUp.ttf}
   \newfontface\thickfont{NimbusSanL-Reg.otf}[BoldFont=NimbusSanL-Bol.otf, ItalicFont=NimbusSanL-RegIta.otf, BoldItalicFont=NimbusSanL-BolIta.otf]
   \newfontface\bigtitlefont[Scale=1.3]{Cabin-Regular.ttf}[BoldFont=Cabin-Bold.ttf, ItalicFont=Cabin-Italic.ttf, BoldItalicFont=Cabin-BoldItalic.ttf]
   %\newcommand\titlefont{}
   %\newcommand\thickfont{}
\else
%   \RequirePackage[utf8]{inputenc}
%   \RequirePackage[sfdefault,thin]{roboto}  %% sfdefault is the base font
   \RequirePackage{helvet}
   \newcommand\titlefont{\fontfamily{helvet}\selectfont}
   \newcommand\thickfont{\fontfamily{cmss}\selectfont}
   \newcommand\bigtitlefont{\fontfamily{cmss}\selectfont}
\fi

% Larger spacing between lines
\linespread{1}

%%%%%%%%%%%%%Header%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\RequirePackage{fancyhdr}
\pagestyle{fancy}
\fancyhf{}
\rhead{}
\lhead{Manual do Professor}



% CHange itemize style
\RequirePackage[shortlabels]{enumitem}
\setlist{topsep=0em, partopsep=0pt, itemsep=0pt}


% To define colors
\RequirePackage[dvipsnames]{xcolor}

% By davidgav see www.colourlovers.com/palette/2350697/This_is_for_YOU!
\definecolor{dark}{RGB}     {97,83,117}
\definecolor{common}{RGB}   {142,178,197}
\definecolor{special}{RGB}  {229,98,92}
\definecolor{light}{RGB}    {249,191,118}
\definecolor{attention}{RGB}{209,49,61}

%% Colorblind palete
\definecolor{cbolive}{RGB}     {24,157,122}
\definecolor{cborange}{RGB}   {230,96,0}
\definecolor{cbpurple}{RGB}  {122,113,180}
\definecolor{cbpink}{RGB}    {246,39,150}
\definecolor{cbgreen}{RGB}  {107,165,31}
\definecolor{cbyellow}{RGB}  {246,175,7}
\definecolor{cbbrown}{RGB}    {172,116,31}
\definecolor{cbgray}{RGB}  {98,101,98}


%%%%%%%%%%%%%%%%%%%% Chapter and section titles %%%%%%%%%%%%%%%%%%%%%%%%%
\RequirePackage{titlesec} % needed for define chapter and section style.
\setcounter{chapter}{0}

% Subsection style
%\renewcommand{\thesubsection}{\arabic{subsection}}% to define subsection numbering without section number
\titleformat{\subsection}[block]{\normalfont\normalsize\bfseries\color{special}}{}{20pt}{\large}
%
% Pacotes para desenhos
\RequirePackage{tikz}
\usetikzlibrary{shapes}
\usetikzlibrary{calc}
\usetikzlibrary{decorations}
\usetikzlibrary{decorations.pathmorphing}

% Refletindo
\RequirePackage{tcolorbox}
%\RequirePackage{varwidth}
\tcbuselibrary{theorems,listings,breakable,most}

\RequirePackage{multicol}
\setlength{\columnsep}{1.3cm}

% \newtcbtheorem{professor}{Para o Professor}%
% {colback=purple!15,colframe=purple,fonttitle=\bfseries}{th}
% \newtcbtheorem{introdutorio}{Introdutório}%
% {colback=green!5,colframe=green!35!black,fonttitle=\bfseries}{th}
% \newtcbtheorem{abstrato}{Modelo abstrato}%
% {colback=green!5,colframe=green!35!black,fonttitle=\bfseries}{th}
% \newtcbtheorem{conexoes}{Conexões}%
% {colback=green!5,colframe=green!35!black,fonttitle=\bfseries}{th}
% \newtcbtheorem{explorando}{Explorando}%
% {colback=green!5,colframe=green!35!black,fonttitle=\bfseries}{th}
% \newtcbtheorem{massa}{Mão na massa}%
% {colback=green!5,colframe=green!35!black,fonttitle=\bfseries}{th}
% \newtcbtheorem{exercicio}{Exercício}%
% {colback=gray!15,colframe=gray,fonttitle=\bfseries}{th}

%%Ambientes do professor - teste 2020

\newtcolorbox{orientacoes}{
  breakable,
  left=-.1cm,
  right=.1cm,
  top=0cm,
  bottom=0cm,
  colframe=special!13,
  colback=special!13,
  colbacktitle=special!13,
  fonttitle=\normalfont\bfseries\color{black},
  title=Discussões sobre o desenvolvimento da atividade\vspace{.2cm}
}

\newtcbtheorem{solucao}{Solução da Atividade}{
  breakable,
  left=-.1cm,
  right=.1cm,
  top=0cm,
  bottom=0cm,
  colframe=special!13,
  colback=special!13,
  colbacktitle=special!13,
  fonttitle=\normalfont\bfseries\color{black}
}{sol}

\newtcbtheorem{objetivos}{Atividade}{
  breakable,
  left=0cm,
  right=0cm,
  bottom=0cm,
  %colframe=black,
  colframe=special!13,
  colback=special!13,
  colbacktitle=special!13,
  fonttitle=\normalfont\large\bfseries\color{special},
  %title=\quad Atividade \thetcbcounter,
  before upper=\vspace{.1cm}{\bfseries Objetivos específicos: Levar o aluno a
\vspace{.3cm}},%\vspace{-.3cm},
  % fontlower=\sffamily\bfseries,
  %lower separated=false,%para não mostrar a linha entre as partes debaixo e de cima.
}{obj}


\newenvironment{absolutelynopagebreak}
  {\par\nobreak\vfil\penalty0\vfilneg
   \vtop\bgroup}
  {\par\xdef\tpd{\the\prevdepth}\egroup
   \prevdepth=\tpd}

 % Para retirar o destaque da resposta
% \newenvironment{resposta*}[1]
% { \color{common}
%   %\begin{center}
%   \bigskip \medskip
%     {\large\normalfont\bfseries Resposta da #1}\\ \medskip
%   %\end{center}
%   \color{dark!70!black}
%   \begingroup\thickfont
% }
 
  \newenvironment{resposta*}[1]
{ \noindent  
  \bigskip \medskip
    {\normalfont\bfseries Resposta da #1}%\\ \medskip
\vspace{-.5cm}
  }
{ %\color{black}
}

\newtcbtheorem{imagem}{Imagem}%
{colback=light!15,colframe=light,fonttitle=\bfseries}{th}
\newtcbtheorem{figura}{Figura}%
{colback=green!5,colframe=green!35!black,fonttitle=\bfseries}{th}
\newtcbtheorem{nota}{Nota}%
{colback=gray!5,colframe=gray!35!black,fonttitle=\bfseries}{th}

% Página de notas para o professor.
% Atenção: a fonte Homemade Apple deve ser baixada e instalada no sistema operacional. No Ubuntu, é só abrir diretamente o arquivo e clicar em instalar.
% Public domain font used here (http://www.1001freefonts.com/homemade_apple.font) should be install to use properly

\def\Bg{\newpage
 \vspace*{-1.2cm}
 \thispagestyle{empty}
\hspace{-2cm} \begin{tikzpicture}[anchor=north, normal lines/.style={gray, very thin}, every node/.append style={black, align=center, opacity=1}]
    \foreach \y in {0.71,1.41,...,25.56}
      \draw[normal lines, lightgray] (0,\y) -- (8.1 in,\y);
    \draw[normal lines, attention] (2cm,0) -- (2cm,11in);
     \node (t) [ font=\LARGE, anchor=south] at ($(0,25.76)!1/2!(7.8 in,25.76)$) {\fontspec{HomemadeApple} Notas de Aula};
  \end{tikzpicture}%
\quad
\newpage
}

\usetikzlibrary{decorations.pathreplacing}
